@startuml
title Sistem Penemuan Barang Hilang - UIN Sunan Kalijaga

'=============================
' ENUMS
'=============================
enum ReportStatus {
  MENUNGGU_VERIFIKASI
  DIVERIFIKASI
  DIPUBLIKASIKAN
  SELESAI
}

enum ItemStatus {
  HILANG
  DITEMUKAN
  DIAMBIL
}

'=============================
' CLASSES
'=============================

class User {
  - id : String
  - name : String
  - email : String
  - password : String
  - phone : String
  - role : String
  + login(email, password) : Boolean
  + reportLostItem(name, location, desc) : Report
  + viewMyReports() : List<Report>
}

class Admin {
  + verifyReport(reportId) : Boolean
  + publishReport(reportId) : Boolean
  + deleteReport(reportId) : Boolean
}

class Report {
  - id : String
  - reporter : User
  - item : Item
  - reportDate : Date
  - description : String
  - status : ReportStatus
  + updateStatus(status) : void
}

class Item {
  - id : String
  - name : String
  - category : String
  - locationFound : String
  - description : String
  - status : ItemStatus
  + markAsClaimed() : Boolean
}

class Notification {
  - id : String
  - user : User
  - message : String
  - createdAt : Date
  - isRead : Boolean
  + markAsRead() : void
}

class History {
  - id : String
  - report : Report
  - action : String
  - performedBy : String
  - note : String
  - createdAt : Date
}

class Claim {
  - id : String
  - report : Report
  - claimant : User
  - claimDate : Date
  - status : String
  + approveClaim(adminId) : Boolean
  + rejectClaim(adminId, reason) : Boolean
}

'=============================
' RELATIONSHIPS
'=============================

User "1" -- "0..*" Report : membuat >
Admin --|> User
Report "1" -- "1" Item : terkait >
Report "1" -- "0..*" History : mencatat >
User "1" -- "0..*" Notification : menerima >
User "1" -- "0..*" Claim : mengajukan >
Report "1" -- "0..*" Claim : dapat diklaim >

Item --> ItemStatus
Report --> ReportStatus

@enduml
